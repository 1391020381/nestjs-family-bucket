
```
import type { App, Directive, DirectiveBinding } from 'vue';
import { useAegis } from '@/hooks/useAegis';

const { reportClick } = useAegis();

const mounted = (el: Element, binding: DirectiveBinding<any>) => {
  el.addEventListener('click', () => {
    reportClick(binding.value);
  });
};

const reportDirective: Directive = {
  mounted,
};

export const setupReportDirective = (app: App<Element>) => {
  app.directive('report', reportDirective);
};

export default reportDirective;

```


```

import type { App, Directive, DirectiveBinding } from 'vue';
import { useAegis } from '@/hooks/useAegis';

const { reportClick } = useAegis();
const PRESS_TIMEOUT = 1000;
const mounted = (el: Element, binding: DirectiveBinding<any>) => {
  let pressTimer = 0;
  const start = (e) => {
    if (e.type === 'click' && e.button !== 0) {
      return;
    }
    if (!pressTimer) {
      pressTimer = setTimeout(() => {
        reportClick(binding.value);
      }, PRESS_TIMEOUT);
    }
  };
  const cancel = () => {
    if (pressTimer !== null) {
      clearTimeout(pressTimer);
      pressTimer = 0;
    }
  };
  ['mousedown', 'touchstart'].forEach((e) => {
    el.addEventListener(e, start);
  });

  ['click', 'mouseout', 'touchend', 'touchcancel'].forEach((e) => {
    el.addEventListener(e, cancel);
  });
};

const reportDirective: Directive = {
  mounted,
};

export const setupReportOnPressDirective = (app: App<Element>) => {
  app.directive('reportPress', reportDirective);
};

export default reportDirective;

```