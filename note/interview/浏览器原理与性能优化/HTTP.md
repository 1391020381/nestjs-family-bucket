# 描述TCP三次握手和四次挥手
 ## 建立TCP连接
 1. 先建立连接(确保双方都有收发消息的能力)
 2. 再传输内容(如发送给一个get请求)
 3. 网络连接是TCP协议,传输内容是HTTP协议

 * 发送能力 接受能力
 1. client 发包 server接受     server知道 client有 发送能力
 2. server发包  client接受     client知道 server 接受和发送能力  但是 server不知道 client 接受能力
 3. client发包  server接受     server知道 client的接受能力


 ## TCP四次挥手
 * 确保断开 
   1. 首先是client 发送 server 自己无其他请求
   2. server 发送消息  告诉 client 自己 收到你的消息  此时 server可能有其他消息要发送
   3. server 发送消息 client 自己没有消息了
   4. client 再发送消息来确认



 # HTTP/1： HTTP性能优化  
 * http0.9 简单需求
 * http 1.0 引入 请求头 响应头
 * 在支持多种类型文件下载的基础上, 1.0 还提供了 cache 机制 用户代理 状态码


 * http1.1 持久连接  cookie 虚拟主机


# HTTP/2 如何提升网络速度

* http1.1   持久连接 浏览器为每个域名最多同时维护6个TCP持久连接   使用CDN的实现域名分片
  * tcp 慢启动  一旦一个 TCP 连接建立之后，就进入了发送数据状态，刚开始 TCP 协议会采用一个非常慢的速度去发送数据，然后慢慢加快发送数据的速度，直到发送数据的速度达到一个理想状态，我们把这个过程称为慢启动
  * 慢启动是 TCP 为了减少网络拥塞的一种策略，我们是没有办法改变的。
  * 带宽竞争
  * 队头阻塞

* 影响 HTTP/1.1 效率的三个主要因素：TCP 的慢启动、多条 TCP 连接竞争带宽和队头阻塞。

* HTTP/2 是如何采用多路复用机制来解决这些问题的。多路复用是通过在协议栈中添加二进制分帧层来实现的，有了二进制分帧层还能够实现请求的优先级、服务器推送、头部压缩等特性，从而大大提升了文件传输效率。

* HTTP/3 正是基于 QUIC 协议的，你可以把 QUIC 看成是集成了“TCP+HTTP/2 的多路复用 +TLS 等功能”的一套协议。这是集众家所长的一个协议，从协议最底层对 Web 的文件传输做了比较彻底的优化，所以等生态相对成熟时，可以用来打造比现在的 HTTP/2 还更加高效的网络